--NULL처리함수들

--NVL(값, NULL일경우 대체할값) *
SELECT NVL(NULL, 0 ) FROM DUAL ; --NULL일 경우 0으로 변환

SELECT NVL(300, 0 ) FROM DUAL; --NULL이 아닐경우 그대로 출력됨

SELECT NULL * 3000 *1000 FROM DUAL;

SELECT FIRST_NAME , SALARY , COMMISSION_PCT , SALARY +SALARY * COMMISSION_PCT FROM EMPLOYEES;
SELECT FIRST_NAME , SALARY , COMMISSION_PCT , SALARY +SALARY * NVL(COMMISSION_PCT,0) FROM EMPLOYEES;

--NVL2 (값 , NULL이 아닐겨우 대체할 값, NULL일 경우 대체할값) *
SELECT NVL2(300, 'NULL이 아닙니다', 'NULL입니다') FROM DUAL;

SELECT NVL2(COMMISSION_PCT, 'TRUE', 'FALSE') FROM EMPLOYEES;

SELECT FIRST_NAME , NVL2(COMMISSION_PCT, SALARY +SALARY * COMMISSION_PCT,SALARY)FROM EMPLOYEES;

--DECODE(값, 비교값 , 결과값, 나열...., ELSE문)*
SELECT DECODE('A','A','A입니다','A가 아닙니다') FROM DUAL;  --IF ~ELSE
SELECT DECODE('B','A','A입니다',
                  'B','B입니다',
                  'C','C입니다',
                  '전부아닙니다') FROM DUAL;
SELECT FIRST_NAME,
        JOB_ID,
        DECODE(JOB_ID,'AV_VP',SALARY*1.1,
                       'IT_PROG', SALARY *1.2,
                       'FI_MGR', SALARY * 1.3,
                       SALARY) AS 급여 FROM EMPLOYEES;
                       
--CASE ~WHEN ~THEN ~ELSE ~ END 구문 (SWITCH문장과 비슷함) *

-- 1ST
SELECT FIRST_NAME, 
       JOB_ID,
       SALARY,
       CASE JOB_ID WHEN 'AD_VP'  THEN SALARY * 1.10 
                   WHEN 'IT_PROG' THEN SALARY *1.2
                   WHEN 'FI_MGR' THEN SALARY * 1.3
                   ELSE SALARY 
       END AS 급여
FROM EMPLOYEES;       

--SECOND
SELECT FIRST_NAME,
        JOB_ID,
        SALARY,
        CASE WHEN JOB_ID = 'AV_VP' THEN SALARY *1.1
            WHEN JOB_ID = 'IT_PROG' THEN SALARY *1.2
            WHEN JOB_ID = 'FI_MGR' THEN SALARY *1.3
            ELSE SALARY
            END AS 급여
FROM EMPLOYEES;

--COALESCE(값,값,.....) 코얼레스 - NULL이 아닌 첫번째 인자값을 반환함
SELECT COALESCE(NULL , 'A','B') FROM DUAL; --A
SELECT COALESCE(NULL , NULL,  'B') FROM DUAL; --B
SELECT COALESCE(NULL,'B','C',NULL) FROM DUAL; --B
SELECT COALESCE(NULL , NULL, NULL,NULL) FROM DUAL ; -- NULL
SELECT COMMISSION_PCT , COALESCE(COMMISSION_PCT,0) FROM EMPLOYEES ;

